backend:
  name: github
  repo: GitJestry/MinecraftWebsite
  branch: main
  base_url: "https://decap-proxy.julian-meyfisch.workers.dev"

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

site_url: "https://gitjestry.github.io/MinecraftWebsite"
display_url: "https://gitjestry.github.io/MinecraftWebsite"

collections:
  - name: "data"
    label: "Daten"
    files:
      - name: "projects"
        label: "Projekte"
        file: "assets/data/projects.json"
        format: "json"
        fields:
          - label: "Projekte"
            name: "projects"
            widget: "list"
            label_singular: "Projekt"
            summary: "{{fields.title}} ({{fields.type}})"
            # typeKey bleibt "type" (Default), damit im JSON weiter `type: "datapack" | "printing"` steht
            types:
              # ---------------- Datapack-Projekte ----------------
              - label: "Datapack"
                name: "datapack"     # -> type: "datapack"
                widget: "object"
                fields:
                  - label: "ID (Slug)"
                    name: "id"
                    widget: "hidden"
                    required: false
                    hint: "Wird automatisch aus dem Titel erzeugt. Du musst hier nichts eintragen."
                  - { label: "Titel", name: "title", widget: "string" }

                  # Kein separates Typ-Feld mehr – kommt automatisch über `name: "datapack"`

                  - { label: "Kurzbeschreibung", name: "shortDescription", widget: "text" }

                  - label: "Status"
                    name: "status"
                    widget: "select"
                    options:
                      - { label: "Released", value: "released" }
                      - { label: "Draft", value: "draft" }
                    default: "released"

                  - label: "Tags"
                    name: "tags"
                    widget: "relation"
                    collection: "tags"
                    file: "taglist"
                    search_fields: ["tags.*.label", "tags.*.description"]
                    display_fields: ["tags.*.label"]
                    value_field: "tags.*.label"
                    multiple: true
                    required: false
                    hint: "Wähle Tags aus der globalen Tag-Liste. Neue Tags kannst du unter „Tags“ anlegen."

                  - label: "Download-Datei (ZIP)"
                    name: "downloadFile"
                    widget: "file"
                    media_folder: "assets/data/downloads"
                    public_folder: "assets/data/downloads"

                  - label: "Cover-Bild"
                    name: "image"
                    widget: "image"
                    required: false

                  - label: "Modal-Inhalt (empfohlen)"
                    name: "modalContent"
                    widget: "object"
                    required: false
                    fields:
                      - label: "Sidebar-Titel"
                        name: "infoTitle"
                        widget: "string"
                        required: false
                        default: "Project info"
                        hint: "Überschrift über der Info-Box rechts, z. B. \"Details\"."
                      - label: "Sidebar – Infozeilen (inkl. Pflichtwerte)"
                        name: "infoItems"
                        widget: "list"
                        required: false
                        collapsed: true
                        default:
                          - { key: "Minecraft", value: "" }
                          - { key: "Requires", value: "" }
                        summary: "{{fields.key}}: {{fields.value}}"
                        hint: "Trage hier die Werte für die Standardzeilen (Game, Type, Status, Minecraft & Requires) sowie zusätzliche Einträge ein."
                        fields:
                          - { label: "Label", name: "key", widget: "string" }
                          - { label: "Wert", name: "value", widget: "string" }
                          - { label: "Link-URL (optional)", name: "url", widget: "string", required: false }
                          - { label: "Im neuen Tab öffnen", name: "newTab", widget: "boolean", required: false, default: false }
                      - { label: "Tags-Titel", name: "tagsTitle", widget: "string", required: false, hint: "Überschrift über den Tags, z. B. \"Tags\"." }
                      - label: "Beschreibung – Tab \"Overview\""
                        name: "description"
                        widget: "list"
                        required: false
                        hint: "Mehrere Absätze für den ersten Tab. Datapacks: Feature-Überblick. 3D-Druck: Was druckt man, für wen ist es gedacht?"
                        field: { label: "Absatz", name: "text", widget: "text" }
                      - label: "Schritte – Tab \"Installation / Assembly\""
                        name: "steps"
                        widget: "list"
                        required: false
                        hint: "Datapacks: Installation und In-Game Nutzung. 3D-Druck: Aufbau / Nachbearbeitung."
                        field: { label: "Schritt", name: "step", widget: "text" }
                      - label: "Versionen & Downloads – Tab \"Changelog\""
                        name: "versions"
                        widget: "list"
                        required: false
                        summary: "{{fields.release}} ({{fields.date}})"
                        hint: "Einträge für Releases mit optionalem Download (z. B. verschiedene Minecraft-Versionen oder STL-Pakete)."
                        fields:
                          - { label: "Release-Label", name: "release", widget: "string" }
                          - { label: "Minecraft / Setup-Ziel", name: "minecraft", widget: "string", required: false, hint: "z. B. \"1.21.8\", \"Print\" oder \"Any\"." }
                          - { label: "Datum", name: "date", widget: "datetime", required: false }
                          - { label: "Download-Datei", name: "downloadFile", widget: "file", required: false, media_folder: "assets/data/downloads", public_folder: "assets/data/downloads" }
                          - { label: "Details / Notes", name: "notes", widget: "text", required: false }
                      - label: "Galerie – Tab \"Gallery\""
                        name: "gallery"
                        widget: "list"
                        required: false
                        hint: "Bilder, die im Galerie-Tab angezeigt werden."
                        fields:
                          - { label: "Bild", name: "src", widget: "image" }
                          - { label: "Alt-Text", name: "alt", widget: "string", required: false }

                  - { label: "Angelegt", name: "createdAt", widget: "datetime", required: false }
                  - { label: "Zuletzt geändert", name: "updatedAt", widget: "datetime", required: false }

              # ---------------- 3D-Druck-Projekte ----------------
              - label: "3D-Druck"
                name: "printing"     # -> type: "printing"
                widget: "object"
                fields:
                  - label: "ID (Slug)"
                    name: "id"
                    widget: "hidden"
                    required: false
                    hint: "Wird automatisch aus dem Titel erzeugt. Du musst hier nichts eintragen."
                  - { label: "Titel", name: "title", widget: "string" }

                  # Kein separates Typ-Feld mehr – kommt automatisch über `name: "printing"`

                  - { label: "Kurzbeschreibung", name: "shortDescription", widget: "text" }

                  - label: "Status"
                    name: "status"
                    widget: "select"
                    options:
                      - { label: "Released", value: "released" }
                      - { label: "Draft", value: "draft" }
                    default: "released"

                  - label: "Tags"
                    name: "tags"
                    widget: "relation"
                    collection: "tags"
                    file: "taglist"
                    search_fields: ["tags.*.label", "tags.*.description"]
                    display_fields: ["tags.*.label"]
                    value_field: "tags.*.label"
                    multiple: true
                    required: false
                    hint: "Wähle Tags aus der globalen Tag-Liste. Neue Tags kannst du unter „Tags“ anlegen."

                  - label: "Download-Datei (ZIP)"
                    name: "downloadFile"
                    widget: "file"
                    media_folder: "assets/data/downloads"
                    public_folder: "assets/data/downloads"

                  - label: "Cover-Bild"
                    name: "image"
                    widget: "image"
                    required: false

                  - label: "Modal-Inhalt (empfohlen)"
                    name: "modalContent"
                    widget: "object"
                    required: false
                    fields:
                      - label: "Sidebar-Titel"
                        name: "infoTitle"
                        widget: "string"
                        required: false
                        default: "Project info"
                        hint: "Überschrift über der Info-Box rechts, z. B. \"Details\"."
                      - label: "Sidebar – Infozeilen (inkl. Pflichtwerte)"
                        name: "infoItems"
                        widget: "list"
                        required: false
                        collapsed: true
                        default:
                          - { key: "Printer", value: "" }
                          - { key: "Material", value: "" }
                        summary: "{{fields.key}}: {{fields.value}}"
                        hint: "Trage hier die Werte für die Standardzeilen (Game, Type, Status, Printer & Material) sowie zusätzliche Einträge ein."
                        fields:
                          - { label: "Label", name: "key", widget: "string" }
                          - { label: "Wert", name: "value", widget: "string" }
                          - { label: "Link-URL (optional)", name: "url", widget: "string", required: false }
                          - { label: "Im neuen Tab öffnen", name: "newTab", widget: "boolean", required: false, default: false }
                      - { label: "Tags-Titel", name: "tagsTitle", widget: "string", required: false, hint: "Überschrift über den Tags, z. B. \"Tags\"." }
                      - label: "Beschreibung – Tab \"Overview\""
                        name: "description"
                        widget: "list"
                        required: false
                        hint: "Mehrere Absätze für den ersten Tab. Datapacks: Feature-Überblick. 3D-Druck: Was druckt man, für wen ist es gedacht?"
                        field: { label: "Absatz", name: "text", widget: "text" }
                      - label: "Schritte – Tab \"Installation / Assembly\""
                        name: "steps"
                        widget: "list"
                        required: false
                        hint: "Datapacks: Installation und In-Game Nutzung. 3D-Druck: Aufbau / Nachbearbeitung."
                        field: { label: "Schritt", name: "step", widget: "text" }
                      - label: "Versionen & Downloads – Tab \"Changelog\""
                        name: "versions"
                        widget: "list"
                        required: false
                        summary: "{{fields.release}} ({{fields.date}})"
                        hint: "Einträge für Releases mit optionalem Download (z. B. verschiedene Minecraft-Versionen oder STL-Pakete)."
                        fields:
                          - { label: "Release-Label", name: "release", widget: "string" }
                          - { label: "Minecraft / Setup-Ziel", name: "minecraft", widget: "string", required: false, hint: "z. B. \"1.21.8\", \"Print\" oder \"Any\"." }
                          - { label: "Datum", name: "date", widget: "datetime", required: false }
                          - { label: "Download-Datei", name: "downloadFile", widget: "file", required: false, media_folder: "assets/data/downloads", public_folder: "assets/data/downloads" }
                          - { label: "Details / Notes", name: "notes", widget: "text", required: false }
                      - label: "Galerie – Tab \"Gallery\""
                        name: "gallery"
                        widget: "list"
                        required: false
                        hint: "Bilder, die im Galerie-Tab angezeigt werden."
                        fields:
                          - { label: "Bild", name: "src", widget: "image" }
                          - { label: "Alt-Text", name: "alt", widget: "string", required: false }

                  - { label: "Angelegt", name: "createdAt", widget: "datetime", required: false }
                  - { label: "Zuletzt geändert", name: "updatedAt", widget: "datetime", required: false }

  - name: "tags"
    label: "Tags"
    label_singular: "Tag"
    files:
      - label: "Tag-Liste"
        name: "taglist"
        file: "assets/data/tags.json"
        format: "json"
        fields:
          - label: "Tags"
            name: "tags"
            widget: "list"
            label_singular: "Tag"
            summary: "{{fields.label}}"
            fields:
              - { label: "Label", name: "label", widget: "string" }
              - { label: "Farbe (Hex)", name: "color", widget: "string", required: false, hint: "z. B. #4CAF50" }
              - { label: "Beschreibung", name: "description", widget: "text", required: false }
              - { label: "Icon", name: "icon", widget: "string", required: false, hint: "Emoji oder Icon-Klasse" }
